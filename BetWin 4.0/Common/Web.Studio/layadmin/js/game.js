// 游戏原始数据的翻译
if (!window["GAME"]) window["GAME"] = {};
// 体育类型的游戏
if (!GAME["Sport"]) GAME["Sport"] = {};
// 体育类型
!function (ns) {
    // 小金体育
    ns["Xj188"] = function (res) {
        // 翻译字典
        var dic = {
            wagerStatus: {
                "1": "<label title='會員下注確認（未結帳）'>確認</label>",
                "2": "<label title='會員的投注結算'>結帳</label>",
                "3": "<label title='會員投注取消（因遊戲取消）'>取消</label>",
                "4": "<label title='- 會員投注無效'>無效</label>"
            },
            betStatus: {
                "0": "初始",
                "1": "贏",
                "2": "輸",
                "3": "平局",
                "4": "取消"
            },
            oddsType: {
                "1": "歐洲賠率",
                "2": " 香港賠率",
                "3": " 馬來西亞賠率",
                "4": " 印尼賠率"
            },
            /*自定义翻译字典*/
            betType: {
                "1x2": "歐洲賠率",
                "Asian Handicap": "让球",
                "Correct Score": "波胆",
                "First Player to Score": "最先进球球员",
                "First Team to Score": "最先进球",
                "Half Time / Full Time": "半场 / 全场",
                "Half Time Total Number of Goals": "总进球数",
                "In-Play 1x2": "滚球 独赢",
                "In-Play Asian Handicap": "滚球 让球",
                "In-Play Correct Score": "滚球波胆",
                "In-Play Half Time / Full Time": "滚球半全场",
                "In-Play Half Time Total Number of Goals": "滚球总进球数",
                "In-Play Money Line": "滚球 独赢盘",
                "In-Play Odd / Even": "滚球 单 / 双",
                "In-Play Over / Under": "滚球 大 / 小",
                "In-Play Penalty Kick - Asian Handicap": "滚球点球让球盘",
                "In-Play Penalty Kick - Over / Under": "滚球点球大小盘",
                "In-Play Total Number of Goals": "滚球总进球数",
                "Last Player to Score": "最后进球球员",
                "Last Team to Score": "最后进球",
                "Money Line": "独赢盘",
                "Odd / Even": "单 / 双",
                "Outright": "冠军盘口",
                "Over / Under": "大 / 小",
                "Penalty Kick - Asian Handicap": "点球让球盘",
                "Penalty Kick - Over / Under": "点球大小盘",
                "Player(s) Total Points": "球员总进球数",
                "Set Betting": "波胆",
                "SPECIAL PROP. W/O. SPREAD": "特别投注",
                "SPECIAL PROP. W/O. SPREAD IP": "滚球特别投注",
                "Team(s) Total Points": "球队总进球数",
                "Total Number of Booking(s) - Asian Handicap": "得卡总数让球盘",
                "Total Number of Booking(s) - In-Play Asian Handicap": "滚球得卡总数让球盘",
                "Total Number of Booking(s) - In-Play Over / Under": "滚球得卡总数大小盘",
                "Total Number of Booking(s) - Over / Under": "得卡总数大小盘",
                "Total Number of Corner - Asian Handicap": "角球让球盘",
                "Total Number of Corner - In-Play Asian Handicap": "滚球角球让球盘",
                "Total Number of Corner - In-Play Over / Under": "滚球角球大小盘",
                "Total Number of Corner - Over / Under": "角球大小盘",
                "Total Number of Goals": "总进球数",
                "Total Number of Offside - Asian Handicap": "越位让球盘",
                "Total Number of Offside - In-Play Asian Handicap": "滚球越位让球盘",
                "Total Number of Offside - In-Play Over / Under": "滚球越位大小盘",
                "Total Number of Offside - Over / Under": "越位大小盘",
                "Total Number of Sent Off(s) - Asian Handicap": "红卡让球盘",
                "Total Number of Sent Off(s) - In-Play Asian Handicap": "滚球红卡让球盘",
                "Total Number of Sent Off(s) - In-Play Over / Under": "滚球红卡大小盘",
                "Total Number of Sent Off(s) - Over / Under": "红卡大小盘",
                "Which Team to Kick Off": "开球球队"
            },
              betSelection: {
                  "AA": "客客",
                  "AD": "客和",
                  "AH": "客主",
                  "AOS": "其它比分",
                  "AUP5": "客队-净胜5球或以上",
                  "Away": "客队",
                  "DA": "和客",
                  "DD": "和和",
                  "DH": "和主",
                  "Draw": "和局",
                  "Even": "双",
                  "H0A0": "0 - 0",
                  "H0A1": "0 - 1",
                  "H0A2": "0 - 2",
                  "H0A3": "0 - 3",
                  "H0A4": "0 - 4",
                  "H1A0": "1 - 0",
                  "H1A1": "1-1",
                  "H1A2": "1-2",
                  "H1A3": "1-3",
                  "H1A4": "1-4",
                  "H2A0": "2 - 0",
                  "H2A1": "2-1",
                  "H2A2": "2-2",
                  "H2A3": "2-3",
                  "H2A4": "2-4",
                  "H3A0": "3 - 0",
                  "H3A1": "3-1",
                  "H3A2": "3-2",
                  "H3A3": "3-3",
                  "H3A4": "3-4",
                  "H4A0": "4 - 0",
                  "H4A1": "4-1",
                  "H4A2": "4-2",
                  "H4A3": "4-3",
                  "H4A4": "4-4",
                  "HA": "主客",
                  "HD": "主和",
                  "HH": "主主",
                  "Home": "主队",
                  "HUP5": "主队 -净胜5球或以上",
                  "No Goal": "无进球",
                  "Odd": "单",
                  "Others": "其它",
                  "Over": "大",
                  "TG0": "0",
                  "TG01": "0 - 1",
                  "TG1": "1",
                  "TG2": "2",
                  "TG23": "2-3",
                  "TG3UP": "3或以上",
                  "TG46": "4-6",
                  "TG7UP": "7或以上",
                  "Under": "小"
            },
        };
        var bets = JSON.parse(res.bets);
        var detail = [];
        for (var i = 0; i < bets.length; i++) {
            var bet = bets[i];
            var event = bet.event;
            detail.push(["<tr>",
                "<th>投注编号</th>",
                "<td>" + bet.id + "</td>",
                "<th>序号</th>",
                "<td>" + bet.seq + "</td>",
                "<th>投注状态</th>",
                "<td>" + (dic.betStatus[bet.betStatus] || bet.betStatus) + "</td>",
                "</tr>",
                "<tr>",
                "<th>类型</th>",
                "<td>" + event.eventType + "</td>",
                "<th>联赛</th>",
                "<td>" + event.tag + "</td>",
                "<th>结果</th>",
                "<td>" + event.results + "</td>",
                "</tr>",
                "<tr>",
                "<th>比赛</th>",
                "<td colspan='5'>" + event.name + "</td>",
                "</tr>",
                "<tr>",
                "<th>开始时间</th>",
                "<td colspan='2'>" + event.startTime + "</td>",
                "<th>结束时间</th>",
                "<td colspan='2'>" + event.endTime + "</td>",
                "</tr>",
                "<tr>",
                "<th>金额</th>",
                "<td>" + bet.stake + "</td>",
                "<th>盈亏</th>",
                "<td>" + bet.returnAmount + "</td>",
                "<th>赔率</th>",
                "<td>" + bet.odds + "</td>",
                "</tr>",
                "<tr>",
                "<th>盘口类型</th>",
                "<td colspan='9'>" + dic.betType[bet.betType] + "</td>",
                //"<th>盘口分组</th>",
                //"<td colspan='3'>" + bet.group + "</td>",
                //"</tr>",
                "<tr>",
                "<th>投注内容</th>",
                "<td>" + dic.betSelection[bet.selection] + "</td>",
                "<th>让分</th>",
                "<td>" + (bet.handicap || "0") + "</td>",
                "<th>全/半场</th>",
                "<td>" + bet.period + "</td>",
                "</tr>",
                "<tr>",
                "<th>备注</th>",
                "<td>" + bet.remark + "</td>",
                "<th>主队得分</th>",
                "<td>" + bet.scoreHome + "</td>",
                "<th>客队得分</th>",
                "<td>" + bet.scoreAway + "</td>",
                "</tr>"].join(""));
        }
        var html = ["<table class='layui-table' lay-skin='even' lay-size='sm'><tbody>",
            "<tr>",
            "<th>订单号</th>",
            "<td>" + res.id + "</td>",
            "<th>游戏帐号</th>",
            "<td>" + res.memberCode + "</td>",
            "<th>币种</th>",
            "<td>" + res.currencyCode + "</td>",
            "</tr>",
            "<tr>",
            "<th>IP</th>",
            "<td>" + res.ipAddress + "</td>",
            "<th>投注时间(GTM-4)</th>",
            "<td>" + res.createTime + "</td>",
            "<th>结算时间(GTM-4)</th>",
            "<td>" + res.settleTime + "</td>",
            "</tr>",
            "<tr>",
            "<th>订单状态</th>",
            "<td>" + (dic.wagerStatus[res.wagerStatus] || res.wagerStatus) + "</td>",
            "<th>投注金额</th>",
            "<td>" + res.stake + "</td>",
            "<th>盈亏：</th>",
            "<td>" + res.returnAmount + "</td>",
            "</tr>",
            "<tr>",
            "<th>玩家设备</th>",
            "<td>" + res.channel + "</td>",
            "<th>赔率类型</th>",
            "<td>" + (dic.oddsType[res.oddsType] || res.oddsType) + "</td>",
            "<th>赔率：</th>",
            "<td>" + res.odds + "</td>",
            "</tr>",
            "<tr>",
            "<th>比赛开始（GTM-4）</th>",
            "<td>" + res.eventStartTime + "</td>",
            "<th>盘口类型</th>",
            "<td>" + dic.betType[bet.betType] + "</td>",
            "<th>activebet</th>",
            "<td>" + res.activebet + "</td>",
            "</tr>",
            "<tr>",
            "<td colspan='6' class='layui-text-center layui-bg-black'>投注明细</td>",
            "</tr>",
            detail.join(""),
            "</tbody></table>"];
        return html.join("");
    };

    ns["CMD"] = function (res) {
        // 翻译字典
        var dic = {
            wagerStatus: {
                "1": "<label title='會員下注確認（未結帳）'>確認</label>",
                "2": "<label title='會員的投注結算'>結帳</label>",
                "3": "<label title='會員投注取消（因遊戲取消）'>取消</label>",
                "4": "<label title='- 會員投注無效'>無效</label>"
            },
            WinLoseStatus: {
                "WA": "赢",
                "WH": "贏一半",
                "LA": "輸",
                "LH": "输一半",
                "P": "未开奖",
                "D": "平"
            },
            OddsType: {
                "MY": "马来盘",
                "ID": "印尼盘",
                "HK": "香港盘",
                "MR": "缅甸",
                "DE": "欧洲盘"
            },
            /*自定义翻译字典*/
           TransType: {
                "1": "1X2 下注1 ",
                "1D": "12D球赛  下注HDP(让球) ",
                "2": "1X2 下注2 ",
                "2D": "12D球赛  下注OU(大小) ",
                "3D": "34D球赛  下注HDP(让球)",
                "4D": "34D球赛  下注OU(大/小) ",
                "CS": "波胆 ",
                "FLG": "最先/最后进球 ",
                "HDP": "让球 ",
                "HFT": "半场/全场",
                "OE": "单/双 ",
                "OU": "大/小 ",
                "OUT": "优胜冠军 ",
                "PAR": "混合过关",
                "TG": "总进球 ",
                "X": "1X2 下注X ",
                "1X": "双重机会(DC) 下注1X",
                "12": "双重机会(DC) 下注12 ",
                "X2": "双重机会(DC) 下注X2 ",
            },
            DangerStatus: {
                "D": "正在处理的滚球赛事",
                "N": "已接受今日或早盘",
                "A": "已接受的滚球赛事",
                "C": "已取消",
                "R": "已拒绝",
            },
            SportType: {
                'S': '足球',
                '34D': '3D/4D 游戏',
                '12D': '1D/2D 游戏',
                'BB': '篮球',
                'FS': '室内足球',
                'BC': '海滩足球',
                'UF': '美式足球',
                'BE': '棒球',
                'IH': '冰球',
                'TN': '网球',
                'FB': '金融投注',
                'BA': '羽毛球',
                'GF': '高尔夫球',
                'CK': '板球',
                'VB': '排球',
                'HB': '手球',
                'PL': '撞球',
                'BL': '台球',
                'NS': '桌球',
                'RB': '橄榄球',
                'GP': '汽车运动',
                'DT': '飞镖',
                'BX': '拳击',
                'AT': '田径',
                'AR': '射箭',
                'CH': '棋',
                'DV': '跳水',
                'EQ': '马术',
                'ET': '综艺',
                'CN': '皮划艇',
                'CS': '格斗体育',
                'CY': '骑自行车',
                'HK': '曲棍球',
                'GM': '体操',
                'FL': '地板球',
                'NT': 'Novelties',
                'OL': '奥林匹克',
                'OT': '其他',
                'PO': '政治',
                'QQ': '壁球',
                'MN': '游泳',
                'RU': '橄榄球联盟',
                'TT': '乒乓球',
                'WG': '举重',
                'WI': '冬季运动',
                'WP': '水球',
                'WS': '赛道',
                'ES': '电子竞技',
                'MT': '泰拳',
            },

            choiceType: {
                "HDP": {"1":"主队","2":"客队"},
                "OU": { "1": "大", "2": "小" },
                "OE": { "1": "单", "2": "双" },
                "1X2": { "1": "1", "2": "2","X": "X" },
                "OUT": { "1": "主队" },
            },
        };
        var html = ["<table class='layui-table' lay-skin='even' lay-size='sm'><tbody>",
            "<tr>",
            "<th>订单号</th>",
            "<td>" + res.ReferenceNo + "</td>",
            "<th>游戏帐号</th>",
            "<td>" + res.SourceName + "</td>",
            "</tr>",
            "<tr>",
            "<th>是否是上半场</th>",
            "<td>" + GetIsFirstHalf(res.IsFirstHalf) + "</td>",
            "<th>下单时间</th>",
            "<td>" + formatDate(res.TransDate )+ "</td>",
            "</tr>",
            "<tr>",
            "<th>是否为主队让球</th>",
            "<td>" + GetIsFirstHalf(res.IsHomeGive) + "</td>",
            "<th>是否投注主队</th>",
            "<td>" + GetIsFirstHalf(res.IsBetHome) + "</td>",
            "</tr>",
            "<tr>",
            "<th>下注金额</th>",
            "<td>" + res.BetAmount + "</td>",
            "<th>用户未结算余额</th>",
            "<td>" + res.Outstanding + "</td>",
            "</tr>",
            "<tr>",
            "<th>让球数</th>",
            "<td>" + res.Hdp + "</td>",
            "<th>投注时的赔率</th>",
            "<td>" + res.Odds + "</td>",
            "</tr>",
            "<tr>",
            "<th>输赢金额</th>",
            "<td>" + res.WinAmount + "</td>",
            "<th>输赢状态</th>",
            "<td>" + dic.WinLoseStatus[res.WinLoseStatus] + "</td>",
            "</tr>",
            "<tr>",
            "<th>玩法类型</th>",
            "<td>" + dic.TransType[res.TransType] + "</td>",
            "<th>投注位置</th>",
            "<td>" + GetChoice(res.TransType, res.Choice) + "</td>",
            "</tr>",
            "<tr>",
            "<th>会员所得佣金 </th>",
            "<td>" + res.MemCommission + "</td>",
            "<th>下注时的IP</th>",
            "<td>" + res.BetIp + "</td>",
            "</tr>",
            "<tr>",
            "<th>主队最终得分 </th>",
            "<td>" + res.HomeScore + "</td>",
            "<th>客队最终得分 </th>",
            "<td>" + res.AwayScore + "</td>",
            "</tr>",
            "<tr>",
            "<th>投注时主队得分 </th>",
            "<td>" + res.RunHomeScore + "</td>",
            "<th>投注时客队得分  </th>",
            "<td>" + res.RunAwayScore + "</td>",
            "</tr>",
            "<tr>",
            "<th>是否为滚球 </th>",
            "<td>" + GetIsFirstHalf(res.IsRunning)  + "</td>",
            "<th>拒绝理由   </th>",
            "<td>" + res.RejectReason + "</td>",
            "</tr>",
            "<tr>",
            "<th>球类标识 </th>",
            "<td>" + dic.SportType[res.SportType]  + "</td>", 
            "<th>订单状态</th>",
            "<td>" + dic.DangerStatus[res.DangerStatus] + "</td>",
            "</tr>",
            "<tr>",
            "<th>所属做账日期  </th>",
            "<td>" + res.WorkingDate + "</td>",
            "<th>盘口类型    </th>",
            "<td>" + dic.OddsType[res.OddsType ] + "</td>",
            "</tr>",
            "<tr>",
            "<th>球赛开赛日期  </th>",
            "<td>" + formatDate(res.MatchDate)  + "</td>",
            "<th>联赛ID    </th>",
            "<td>" + res.LeagueId + "</td>",
            "</tr>",
            "<tr>",
            "<th>主队球队ID   </th>",
            "<td>" + res.HomeTeamId + "</td>",
            "<th>客队球队ID   </th>",
            "<td>" + res.AwayTeamId + "</td>",
            "</tr>",
            "<tr>",
            "<th>注单结算时间  </th>",
            "<td>" + formatDate( res.StateUpdateTs )+ "</td>",
            "<th>佣金设定值  </th>",
            "<td>" + res.MemCommissionSet + "</td>",
            "</tr>",
            "<tr>",
            "<th>比赛ID   </th>",
            "<td>" + res.MatchID + "</td>",
            "<th>比赛唯一标识符   </th>",
            "<td>" + res.MatchGroupID + "</td>",
            "</tr>",
            "<tr>",
            "<th>是否是特别投注    </th>",
            "<td>" + GetIsFirstHalf(res.IsSpecial)  + "</td>",
            "</tr>",
            "</tbody></table>"];
        return html.join("");
        //是否翻译汉字
        function GetIsFirstHalf(str) {
            if (str == "True") {
                return "是"
            }
            else {
                return "否"
            }
        }
        //格式化时间
        function formatDate(ticks) {
            //var ticks = 635556672000000000;
            //ticks are in nanotime; convert to microtime
            var ticksToMicrotime = ticks / 10000;
            //ticks are recorded from 1/1/1; get microtime difference from 1/1/1/ to 1/1/1970
            var epochMicrotimeDiff = Math.abs(new Date(0, 0, 1).setFullYear(1));
            //new date is ticks, converted to microtime, minus difference from epoch microtime
            var now = new Date(ticksToMicrotime - epochMicrotimeDiff);
            var year = now.getFullYear();
            var month = now.getMonth() + 1;
            var date = now.getDate();
            var hour = now.getHours();
            var minute = now.getMinutes();
            var second = now.getSeconds();
            var hourStr = hour;
            if (hour < 10) {
                hourStr = "0" + hour;
            }
            var minuteStr = minute;
            if (minute < 10) {
                minuteStr = "0" + minute;
            }
            var secondStr = second;
            if (second < 10) {
                secondStr = "0" + second;
            }
            return year + "-" + month + "-" + date + "   " + hourStr + ":" + minuteStr + ":" + secondStr;
        }
        //获取投注位置
        function GetChoice(transType, choice) {

            var r =dic. choiceType[transType][choice];
            console.log(r)
            if (r != null) {
                return r;
            }
       
            return choice;
        }
    };
}(GAME.Sport);
